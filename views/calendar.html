{% extends "skala3ma-layout.html" %}

{% block topcontent %}

{% endblock %}

	{% block secondarycontent %}
			

<div name='bbb'>
	<div class="text-center heading-section">
		<br>
		<h3>{{ reference_data['current_language'].calendar}}</h3>
	</div>
	<div class="container">
			<div id='calendar'></div>
	</div>
</div>

<script>
	document.addEventListener('DOMContentLoaded', function() {
		var calendarEl = document.getElementById('calendar');
		var calendar = new FullCalendar.Calendar(calendarEl, {
			initialView: 'multiMonthFourMonth',
			views: {
				multiMonthFourMonth: {
					type: 'multiMonth',
					duration: { months: 4 }
				}
			},
			events: [
						// Static test event
    					{ title: 'Test Event', start: '2024-01-01' },
						
						// Loop through competitions and format them as events
						{% for competitionId in competitions %}
						
						{
							title: "{{ competitions[competitionId]['name'] }}",
							start: "{{ competitions[competitionId]['date'] }}",
							url: '/competitionDetails/{{ competitionId }}'
							// other event properties
						},

						{% endfor %}
					]
			// other configuration options
		});
		calendar.render();
	});
	</script>

{% endblock %}